# ИИ-Нутрициолог в виде Telegram-бота

## Основная идея

Полноценный ИИ-продукт на базе Telegram-бота с четко определенной ролью **Нутрициолога** (специалиста по питанию). Поведение определяется системным промптом из файла.

## Целевая роль: Нутрициолог

**Специализация:** Консультации по питанию, составление рационов, рекомендации по ЗОЖ

**Компетенции:**
- Анализ пищевых привычек
- Рекомендации по питанию
- Советы по достижению целей (похудение, набор массы, здоровье)
- Поддержка мотивации

## Основные функции

### Команды бота
- `/start` - приветствие и описание возможностей
- `/role` - отображение роли и компетенций
- `/clear` - очистка истории диалога
- `/help` - справка по командам

### Система промптов
- Системный промпт хранится в файле (`prompts/nutritionist.txt`)
- Загружается при старте, может обновляться без перезапуска
- Легко изменяется через редактирование файла
- Поддержка версионирования и A/B тестирования

## Архитектура

### Управление ролью
Класс `RoleManager`:
- `load_system_prompt(file_path)` - загрузка из файла
- `get_role_description()` - описание для `/role`
- `reload_prompt()` - горячая перезагрузка

### Интеграция с диалогом
- Системный промпт в начале истории сообщений
- LLM генерирует ответы в контексте роли
- История диалога для персонализации

## Будущие возможности

- Персональный профиль пользователя (готова БД для хранения)
- Полнотекстовый поиск по истории диалогов (FTS5 готов)
- Трекинг питания (калории, нутриенты)
- Генерация планов питания
- База знаний о продуктах
- Переключение ролей бота
- Аналитика и статистика использования
- Экспорт истории диалогов

## Технический стек

- Python 3.11+
- aiogram 3.x (Telegram Bot API)
- OpenRouter API (LLM)
- SQLite + aiosqlite (персистентное хранение)
- Alembic (миграции БД)
- File-based prompts (текстовые файлы)
- Docker + Docker Compose (контейнеризация)
