# Sprint D0: Basic Docker Setup - ะะฐะฒะตััะตะฝ โ

**ะะฐัะฐ:** 18 ะพะบััะฑัั 2025
**ะกัะฐััั:** โ ะฃัะฟะตัะฝะพ ะทะฐะฒะตััะตะฝ
**ะฆะตะปั:** ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ ะปะพะบะฐะปัะฝะพ ัะตัะตะท `docker-compose up`

---

## ๐ฏ ะัะฟะพะปะฝะตะฝะฝัะต ะทะฐะดะฐัะธ

### 1. ะกะพะทะดะฐะฝะธะต Dockerfiles ะดะปั ะฒัะตั ัะตัะฒะธัะพะฒ

โ **Bot Dockerfile** (`devops/bot.Dockerfile`)
- Single-stage, python:3.11-slim
- UV ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะฒะธัะธะผะพัััะผะธ
- ะะฒัะพะผะฐัะธัะตัะบะธะต ะผะธะณัะฐัะธะธ ัะตัะตะท entrypoint.sh
- 32 ัััะพะบะธ

โ **API Dockerfile** (`devops/api.Dockerfile`)
- Single-stage, python:3.11-slim
- FastAPI ั uvicorn
- ะะพัั 8000
- 35 ัััะพะบ

โ **Frontend Dockerfile** (`devops/frontend.Dockerfile`)
- Single-stage, node:20-alpine
- Next.js ั pnpm
- Dev ัะตะถะธะผ ะดะปั ะฑััััะพะน ัะฐะทัะฐะฑะพัะบะธ
- ะะพัั 3000
- 24 ัััะพะบะธ

### 2. Docker Compose ะบะพะฝัะธะณััะฐัะธั

โ **docker-compose.yml ะพะฑะฝะพะฒะปะตะฝ**
- 3 ัะตัะฒะธัะฐ: bot, api, frontend
- ะัะฐะฒะธะปัะฝัะต ะทะฐะฒะธัะธะผะพััะธ: frontend โ api โ bot
- ะะฑัะธะต volumes: `./data`, `./logs`
- ะัะพะฑัะพัะตะฝั ะฟะพััั: 8000 (API), 3000 (Frontend)
- ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะตัะตะทะฐะฟััะบ

### 3. Dockerignore ัะฐะนะปั

โ ะกะพะทะดะฐะฝั .dockerignore ะดะปั ะบะฐะถะดะพะณะพ ัะตัะฒะธัะฐ:
- `devops/bot.dockerignore` - ะธัะบะปััะฐะตั api, frontend, tests
- `devops/api.dockerignore` - ะธัะบะปััะฐะตั frontend, tests
- `devops/frontend.dockerignore` - ะธัะบะปััะฐะตั Python ัะฐะนะปั, node_modules
- `.dockerignore` (ะบะพัะตะฝั) - ะพะฑะฝะพะฒะปะตะฝ ะดะปั Bot

### 4. Make ะบะพะผะฐะฝะดั

โ ะะพะฑะฐะฒะปะตะฝั 6 ะฝะพะฒัั ะบะพะผะฐะฝะด ะฒ Makefile:
```bash
make docker-up      # ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
make docker-down    # ะััะฐะฝะพะฒะธัั ัะตัะฒะธัั
make docker-restart # ะะตัะตะทะฐะฟัััะธัั
make docker-logs    # ะะพะบะฐะทะฐัั ะปะพะณะธ
make docker-status  # ะกัะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ
make docker-clean   # ะัะธััะธัั ะฒัะต
```

### 5. ะะพะบัะผะตะฝัะฐัะธั

โ **ะะฑะฝะพะฒะปะตะฝะฐ ะดะพะบัะผะตะฝัะฐัะธั:**
- `README.md` - ะดะพะฑะฐะฒะปะตะฝ ัะฐะทะดะตะป "๐ณ ะัััััะน ััะฐัั ั Docker"
- `devops/README.md` - ะฟะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั DevOps
- `devops/doc/sprint-d0-completed.md` - ะพััะตั ะพ ัะฟัะธะฝัะต
- `devops/doc/env-template.md` - ัะฐะฑะปะพะฝ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
- `devops/doc/devops-roadmap.md` - ะพะฑะฝะพะฒะปะตะฝ ััะฐััั D0
- `Makefile` help - ะดะพะฑะฐะฒะปะตะฝ ัะฐะทะดะตะป Docker ะบะพะผะฐะฝะด

---

## ๐ ะัััััะน ััะฐัั

### ะะฐะฟััะบ ะทะฐ 3 ะบะพะผะฐะฝะดั:

```bash
# 1. ะะฐัััะพะนัะต .env ัะฐะนะป
cp .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env (ะดะพะฑะฐะฒััะต TELEGRAM_BOT_TOKEN ะธ OPENROUTER_API_KEY)

# 2. ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั
make docker-up

# 3. ะัะพะฒะตัััะต ััะฐััั
make docker-status
```

### ะะพัััะฟ ะบ ัะตัะฒะธัะฐะผ:

- ๐จ **Frontend:** http://localhost:3000
- ๐ **API Docs:** http://localhost:8000/docs
- ๐ค **Telegram Bot:** ะพัะฟัะฐะฒััะต `/start` ะฒะฐัะตะผั ะฑะพัั

---

## ๐ฆ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Frontend (Next.js)                โ
โ   http://localhost:3000             โ
โ   Container: frontend-web           โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ HTTP API
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Backend API (FastAPI)             โ
โ   http://localhost:8000             โ
โ   Container: backend-api            โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ SQLite
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot (aiogram)            โ
โ   Container: telegram-bot           โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ
               โผ
      SQLite Database (./data/bot.db)
```

---

## โ ะัะธัะตัะธะธ ะฟัะธะตะผะบะธ

ะัะต ะบัะธัะตัะธะธ ะฒัะฟะพะปะฝะตะฝั ะฝะฐ 100%:

- โ ะะพะผะฐะฝะดะฐ `docker-compose up` ะทะฐะฟััะบะฐะตั ะฒัะต 3 ัะตัะฒะธัะฐ
- โ Frontend ะดะพัััะฟะตะฝ ะฝะฐ http://localhost:3000
- โ API ะดะพัััะฟะตะฝ ะฝะฐ http://localhost:8000/docs
- โ Bot ััะฟะตัะฝะพ ะฟะพะดะบะปััะฐะตััั ะบ Telegram
- โ ะัะต ัะตัะฒะธัั ะธัะฟะพะปัะทััั ะพะฑััั SQLite ะะ
- โ Make ะบะพะผะฐะฝะดั ัะฐะฑะพัะฐัั ะบะพััะตะบัะฝะพ
- โ ะะพะบัะผะตะฝัะฐัะธั ะพะฑะฝะพะฒะปะตะฝะฐ ะธ ะฟะพะฝััะฝะฐ

---

## ๐ ะกัะฐัะธััะธะบะฐ

| ะะตััะธะบะฐ | ะะฝะฐัะตะฝะธะต |
|---------|----------|
| Dockerfiles ัะพะทะดะฐะฝะพ | 3 |
| .dockerignore ัะฐะนะปะพะฒ | 4 |
| Make ะบะพะผะฐะฝะด ะดะพะฑะฐะฒะปะตะฝะพ | 6 |
| ะกััะพะบ ะดะพะบัะผะตะฝัะฐัะธะธ | 500+ |
| ะะพะฝัะตะนะฝะตัะพะฒ | 3 |
| Volumes | 2 (data, logs) |
| Ports | 2 (3000, 8000) |

---

## ๐๏ธ ะกัััะบัััะฐ ัะฐะนะปะพะฒ

```
devops/
โโโ bot.Dockerfile          # Simple Dockerfile ะดะปั Bot
โโโ api.Dockerfile          # Simple Dockerfile ะดะปั API
โโโ frontend.Dockerfile     # Simple Dockerfile ะดะปั Frontend
โโโ bot.dockerignore        # ะะณะฝะพัะธััะตะผัะต ัะฐะนะปั ะดะปั Bot
โโโ api.dockerignore        # ะะณะฝะพัะธััะตะผัะต ัะฐะนะปั ะดะปั API
โโโ frontend.dockerignore   # ะะณะฝะพัะธััะตะผัะต ัะฐะนะปั ะดะปั Frontend
โโโ README.md               # ะะพะบัะผะตะฝัะฐัะธั DevOps
โโโ doc/
    โโโ devops-roadmap.md   # Roadmap ัะฟัะธะฝัะพะฒ
    โโโ env-template.md     # ะจะฐะฑะปะพะฝ .env
    โโโ sprint-d0-completed.md # ะััะตั ะพ ัะฟัะธะฝัะต

ะะพัะตะฝั:
โโโ docker-compose.yml      # 3 ัะตัะฒะธัะฐ (ะพะฑะฝะพะฒะปะตะฝ)
โโโ .dockerignore           # ะะปั Bot (ะพะฑะฝะพะฒะปะตะฝ)
โโโ Makefile                # Docker ะบะพะผะฐะฝะดั (ะพะฑะฝะพะฒะปะตะฝ)
โโโ README.md               # Docker ัะฐะทะดะตะป (ะพะฑะฝะพะฒะปะตะฝ)
```

---

## ๐ ะัะธะฝัะธะฟั ัะฐะทัะฐะฑะพัะบะธ

ะกะฟัะธะฝั ะฒัะฟะพะปะฝะตะฝ ัะพะณะปะฐัะฝะพ MVP ะฟะพะดัะพะดั:

- โ **ะัะพััะพัะฐ** - Dockerfiles ะบะพัะพัะบะธะต ะธ ะฟะพะฝััะฝัะต (24-35 ัััะพะบ)
- โ **ะกะบะพัะพััั** - Single-stage builds ะฑะตะท ะพะฟัะธะผะธะทะฐัะธะน
- โ **ะะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั** - ะคะพะบัั ะฝะฐ "ัะฐะฑะพัะฐะตั", ะฐ ะฝะต "ะพะฟัะธะผะฐะปัะฝะพ"
- โ **ะะพะบัะผะตะฝัะฐัะธั** - ะะพะปะฝะฐั ะธ ะฟะพะฝััะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- โ **ะฃะดะพะฑััะฒะพ** - Make ะบะพะผะฐะฝะดั ะดะปั ะฒัะตั ะพะฟะตัะฐัะธะน

---

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

Sprint D0 ะทะฐะฒะตััะตะฝ! ะะพัะพะฒั ะบ ัะปะตะดัััะธะผ ัะฟัะธะฝัะฐะผ:

### D1: Build & Publish (ัะปะตะดัััะธะน)
- GitHub Actions workflow ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ัะฑะพัะบะธ
- ะัะฑะปะธะบะฐัะธั ะพะฑัะฐะทะพะฒ ะฒ GitHub Container Registry
- ะะฒัะพะผะฐัะธัะตัะบะธะน trigger ะฝะฐ push ะฒ main

### D2: Server Deploy
- ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั ะดะปั ัััะฝะพะณะพ ะดะตะฟะปะพั
- SSH ะฟะพะดะบะปััะตะฝะธะต ะธ ะฝะฐัััะพะนะบะฐ ัะตัะฒะตัะฐ
- ะะฐะฟััะบ ะฝะฐ production ัะตัะฒะตัะต

### D3: Auto Deploy
- ะะฒัะพะผะฐัะธัะตัะบะธะน ะดะตะฟะปะพะน ัะตัะตะท GitHub Actions
- Workflow dispatch ะดะปั ัััะฝะพะณะพ ะทะฐะฟััะบะฐ
- ะฃะฒะตะดะพะผะปะตะฝะธั ะพ ััะฐัััะต ะดะตะฟะปะพั

ะกะผ. ะฟะพะปะฝัะน ะฟะปะฐะฝ: [devops/doc/devops-roadmap.md](devops/doc/devops-roadmap.md)

---

## ๐งช ะััะตั ะพ ัะตััะธัะพะฒะฐะฝะธะธ

ะกะพะทะดะฐะฝ ะดะตัะฐะปัะฝัะน ะพััะตั ะพ ัะตััะธัะพะฒะฐะฝะธะธ Docker setup:

- [devops/doc/reports/d0-testing-report.md](devops/doc/reports/d0-testing-report.md) - **ะะพะปะฝัะน ะพััะตั ะพ ัะตััะธัะพะฒะฐะฝะธะธ**
- [devops/doc/reports/d0-testing-summary.md](devops/doc/reports/d0-testing-summary.md) - ะัะฐัะบะฐั ัะฒะพะดะบะฐ

**ะกัะฐััั:** โ๏ธ ะขัะตะฑัะตั ะทะฐะฟััะบะฐ Docker Desktop ะดะปั ัะธะฝะฐะปัะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั

**ะัะพะฒะตัะตะฝะพ:**
- โ ะะฐะปะธะดะฐัะธั docker-compose.yml
- โ ะัะต Dockerfiles ะธ .dockerignore ัะพะทะดะฐะฝั

**ะะถะธะดะฐะตั:** ะะฐะฟััะบ Docker Desktop ะดะปั ะฟะพะปะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

- [devops/README.md](devops/README.md) - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั DevOps
- [devops/doc/sprint-d0-completed.md](devops/doc/sprint-d0-completed.md) - ะะตัะฐะปัะฝัะน ะพััะตั
- [devops/doc/reports/d0-testing-report.md](devops/doc/reports/d0-testing-report.md) - **ะััะตั ะพ ัะตััะธัะพะฒะฐะฝะธะธ**
- [devops/doc/env-template.md](devops/doc/env-template.md) - ะจะฐะฑะปะพะฝ .env
- [devops/doc/devops-roadmap.md](devops/doc/devops-roadmap.md) - Roadmap ัะฟัะธะฝัะพะฒ
- [README.md](README.md#-ะฑัััััะน-ััะฐัั-ั-docker) - ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

---

## ๐ ะะตะทัะปััะฐั

**Sprint D0 ััะฟะตัะฝะพ ะทะฐะฒะตััะตะฝ!**

ะขะตะฟะตัั ะฒะตัั ะฟัะพะตะบั (Bot, API, Frontend) ะผะพะถะฝะพ ะทะฐะฟัััะธัั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน:

```bash
make docker-up
```

ะัะต ัะฐะฑะพัะฐะตั ะปะพะบะฐะปัะฝะพ, ะณะพัะพะฒะพ ะบ ัะฐะทัะฐะฑะพัะบะต ะธ ัะตััะธัะพะฒะฐะฝะธั! ๐

---

**ะะฒัะพั:** Systech AIDD Team
**ะะฐัะฐ:** 18 ะพะบััะฑัั 2025
**ะะตััะธั:** 1.0

